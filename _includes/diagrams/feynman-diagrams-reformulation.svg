<svg
  class="fp-diagram"
  viewBox="0 0 960 420"
  role="img"
  aria-labelledby="fp-fdr-title fp-fdr-desc"
  xmlns="http://www.w3.org/2000/svg"
>
  <title id="fp-fdr-title">Feynman diagrams as a reformulation</title>
  <desc id="fp-fdr-desc">
    A complex symbolic expression is reformulated into a diagrammatic representation with fixed
    translation rules. The diagram makes the combinatorics visible and supports reliable bookkeeping.
  </desc>

  <defs>
    <filter id="fp-fdr-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="10" stdDeviation="12" flood-color="#0F172A" flood-opacity="0.10" />
    </filter>
    <marker
      id="fp-fdr-arrow"
      markerWidth="12"
      markerHeight="12"
      refX="10"
      refY="6"
      orient="auto"
    >
      <path d="M0,0 L12,6 L0,12 Z" fill="#3B82F6" fill-opacity="0.9" />
    </marker>
  </defs>

  <rect x="0" y="0" width="960" height="420" rx="28" fill="transparent" />

  <g filter="url(#fp-fdr-shadow)">
    <rect x="40" y="60" width="880" height="300" rx="26" fill="#FFFFFF" stroke="#E2E8F0" />

    <text
      x="90"
      y="118"
      font-size="16"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Same physics, different representation
    </text>
    <text
      x="90"
      y="144"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      A diagram is a compressed bookkeeping object, with translation rules back to formulas.
    </text>

    <!-- Left: formula world -->
    <rect
      x="90"
      y="186"
      width="260"
      height="150"
      rx="22"
      fill="rgba(15, 23, 42, 0.06)"
      stroke="rgba(15, 23, 42, 0.14)"
    />
    <text
      x="118"
      y="222"
      font-size="14"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Symbolic expression
    </text>
    <text
      x="118"
      y="248"
      font-size="12"
      fill="#475569"
      font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"
    >
      ∫ … (products of terms) …
    </text>
    <text
      x="118"
      y="270"
      font-size="12"
      fill="#475569"
      font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"
    >
      +  ∫ …  +  ∫ …  + …
    </text>

    <text
      x="118"
      y="304"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      correct but hard to manage
    </text>

    <!-- Middle: translation rules -->
    <rect
      x="390"
      y="206"
      width="160"
      height="110"
      rx="20"
      fill="rgba(59, 130, 246, 0.10)"
      stroke="rgba(59, 130, 246, 0.22)"
    />
    <text
      x="414"
      y="244"
      font-size="14"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Translate
    </text>
    <text
      x="414"
      y="268"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      fixed rules
    </text>
    <text
      x="414"
      y="290"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      (diagram ⇄ term)
    </text>

    <!-- Right: diagram world -->
    <rect
      x="590"
      y="186"
      width="320"
      height="150"
      rx="22"
      fill="rgba(59, 130, 246, 0.08)"
      stroke="rgba(59, 130, 246, 0.18)"
    />
    <text
      x="618"
      y="222"
      font-size="14"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Diagrammatic calculus
    </text>
    <text
      x="618"
      y="246"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      structure is visible
    </text>

    <!-- Tiny diagram sketch -->
    <g transform="translate(620,262)">
      <circle cx="40" cy="20" r="4" fill="#1E293B" opacity="0.85" />
      <circle cx="120" cy="20" r="4" fill="#1E293B" opacity="0.85" />
      <circle cx="80" cy="60" r="4" fill="#1E293B" opacity="0.85" />

      <path d="M40 20 C 55 35, 65 45, 80 60" stroke="#1E293B" stroke-width="3" fill="none" opacity="0.85" />
      <path d="M120 20 C 105 35, 95 45, 80 60" stroke="#1E293B" stroke-width="3" fill="none" opacity="0.85" />
      <path d="M40 20 H20" stroke="#1E293B" stroke-width="3" opacity="0.85" />
      <path d="M120 20 H140" stroke="#1E293B" stroke-width="3" opacity="0.85" />
    </g>

    <text
      x="618"
      y="322"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      easier bookkeeping, fewer mistakes
    </text>

    <!-- Arrows -->
    <path
      d="M350 261 H380"
      stroke="#3B82F6"
      stroke-width="4"
      marker-end="url(#fp-fdr-arrow)"
      stroke-linecap="round"
    />
    <path
      d="M550 261 H580"
      stroke="#3B82F6"
      stroke-width="4"
      marker-end="url(#fp-fdr-arrow)"
      stroke-linecap="round"
    />
  </g>
</svg>

