<svg
  class="fp-diagram"
  viewBox="0 0 960 420"
  role="img"
  aria-labelledby="fp-dm-title fp-dm-desc"
  xmlns="http://www.w3.org/2000/svg"
>
  <title id="fp-dm-title">Descriptions map to meanings</title>
  <desc id="fp-dm-desc">
    Several different descriptions (regex, automata, code) can denote the same underlying meaning.
    A semantics map turns a description into the meaning it denotes.
  </desc>

  <defs>
    <filter id="fp-dm-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="10" stdDeviation="12" flood-color="#0F172A" flood-opacity="0.10" />
    </filter>
    <marker
      id="fp-dm-arrow"
      markerWidth="12"
      markerHeight="12"
      refX="10"
      refY="6"
      orient="auto"
    >
      <path d="M0,0 L12,6 L0,12 Z" fill="#3B82F6" fill-opacity="0.9" />
    </marker>
  </defs>

  <g filter="url(#fp-dm-shadow)">
    <rect x="40" y="60" width="880" height="300" rx="26" fill="#FFFFFF" stroke="#E2E8F0" />

    <!-- Left: descriptions -->
    <text
      x="90"
      y="120"
      font-size="16"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Descriptions
    </text>
    <text
      x="90"
      y="145"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      different notations for the same idea
    </text>

    <rect
      x="90"
      y="170"
      width="320"
      height="170"
      rx="22"
      fill="rgba(15, 23, 42, 0.03)"
      stroke="rgba(15, 23, 42, 0.10)"
    />

    <g font-family="JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace" font-size="13">
      <rect x="120" y="198" width="260" height="40" rx="14" fill="rgba(59, 130, 246, 0.10)" stroke="rgba(59, 130, 246, 0.20)" />
      <text x="140" y="223" fill="#1E293B">regex r</text>

      <rect x="120" y="248" width="260" height="40" rx="14" fill="rgba(59, 130, 246, 0.08)" stroke="rgba(59, 130, 246, 0.18)" />
      <text x="140" y="273" fill="#1E293B">DFA M</text>

      <rect x="120" y="298" width="260" height="40" rx="14" fill="rgba(249, 115, 22, 0.10)" stroke="rgba(249, 115, 22, 0.22)" />
      <text x="140" y="323" fill="#1E293B">program P</text>
    </g>

    <!-- Equivalence class highlight -->
    <rect
      x="112"
      y="190"
      width="276"
      height="108"
      rx="20"
      fill="transparent"
      stroke="rgba(15, 23, 42, 0.22)"
      stroke-width="2"
      stroke-dasharray="6 8"
    />
    <text
      x="130"
      y="188"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      equivalent if same meaning
    </text>

    <!-- Arrow: semantics -->
    <path
      d="M430 255 H530"
      stroke="#3B82F6"
      stroke-width="4"
      marker-end="url(#fp-dm-arrow)"
      stroke-linecap="round"
    />
    <text
      x="458"
      y="240"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      semantics ⟦·⟧
    </text>

    <!-- Right: meanings -->
    <text
      x="560"
      y="120"
      font-size="16"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Meanings
    </text>
    <text
      x="560"
      y="145"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      the mathematical object denoted
    </text>

    <rect
      x="560"
      y="170"
      width="320"
      height="170"
      rx="22"
      fill="rgba(15, 23, 42, 0.03)"
      stroke="rgba(15, 23, 42, 0.10)"
    />

    <rect
      x="590"
      y="225"
      width="260"
      height="60"
      rx="18"
      fill="#FFFFFF"
      stroke="rgba(15, 23, 42, 0.12)"
    />
    <text
      x="610"
      y="252"
      font-size="13"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      meaning (e.g., a language L)
    </text>
    <text
      x="610"
      y="274"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      a function, relation, transition system...
    </text>
  </g>
</svg>

