<svg
  class="fp-diagram"
  viewBox="0 0 960 420"
  role="img"
  aria-labelledby="fp-twm-title fp-twm-desc"
  xmlns="http://www.w3.org/2000/svg"
>
  <title id="fp-twm-title">Lookup table, weights, and meaning</title>
  <desc id="fp-twm-desc">
    A lookup table corresponds directly to a function on a finite domain. Neural network weights also denote a function, but many
    different weight vectors can represent the same function, so weights-to-meaning is generally many-to-one.
  </desc>

  <defs>
    <filter id="fp-twm-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="10" stdDeviation="12" flood-color="#0F172A" flood-opacity="0.10" />
    </filter>
    <marker
      id="fp-twm-arrow"
      markerWidth="12"
      markerHeight="12"
      refX="10"
      refY="6"
      orient="auto"
    >
      <path d="M0,0 L12,6 L0,12 Z" fill="#3B82F6" fill-opacity="0.9" />
    </marker>
  </defs>

  <g filter="url(#fp-twm-shadow)">
    <rect x="40" y="60" width="880" height="300" rx="26" fill="#FFFFFF" stroke="#E2E8F0" />

    <!-- Headings -->
    <text
      x="90"
      y="120"
      font-size="16"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Representation
    </text>
    <text
      x="610"
      y="120"
      font-size="16"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Meaning (behavior)
    </text>

    <!-- Left column: table -->
    <text
      x="90"
      y="150"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Lookup table (finite domain)
    </text>
    <rect x="90" y="170" width="280" height="170" rx="22" fill="rgba(59, 130, 246, 0.06)" stroke="rgba(59, 130, 246, 0.18)" />

    <!-- 2x2 grid -->
    <g font-family="JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace" font-size="12">
      <rect x="120" y="205" width="220" height="105" rx="16" fill="#FFFFFF" stroke="rgba(15, 23, 42, 0.12)" />
      <path d="M230 205 V310" stroke="rgba(15, 23, 42, 0.10)" />
      <path d="M120 258 H340" stroke="rgba(15, 23, 42, 0.10)" />

      <text x="136" y="198" fill="rgba(71, 85, 105, 0.85)">Q(s,a)</text>

      <text x="145" y="240" fill="#1E293B">q00</text>
      <text x="255" y="240" fill="#1E293B">q01</text>
      <text x="145" y="293" fill="#1E293B">q10</text>
      <text x="255" y="293" fill="#1E293B">q11</text>

      <text x="124" y="238" fill="rgba(71, 85, 105, 0.85)">s=0</text>
      <text x="124" y="291" fill="rgba(71, 85, 105, 0.85)">s=1</text>
      <text x="190" y="327" fill="rgba(71, 85, 105, 0.85)">a=0</text>
      <text x="300" y="327" fill="rgba(71, 85, 105, 0.85)">a=1</text>
    </g>

    <!-- Middle column: weights (many-to-one) -->
    <text
      x="410"
      y="150"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      Weights (parameters)
    </text>
    <rect x="410" y="170" width="160" height="170" rx="22" fill="rgba(249, 115, 22, 0.08)" stroke="rgba(249, 115, 22, 0.22)" />

    <g font-family="JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace" font-size="12">
      <rect x="432" y="198" width="116" height="46" rx="14" fill="#FFFFFF" stroke="rgba(15, 23, 42, 0.12)" />
      <text x="446" y="226" fill="#1E293B">w</text>
      <text x="466" y="226" fill="rgba(71, 85, 105, 0.85)">= [..]</text>

      <rect x="432" y="254" width="116" height="46" rx="14" fill="#FFFFFF" stroke="rgba(15, 23, 42, 0.12)" />
      <text x="446" y="282" fill="#1E293B">w'</text>
      <text x="474" y="282" fill="rgba(71, 85, 105, 0.85)">= [..]</text>
    </g>

    <rect
      x="424"
      y="190"
      width="132"
      height="120"
      rx="18"
      fill="transparent"
      stroke="rgba(15, 23, 42, 0.22)"
      stroke-width="2"
      stroke-dasharray="6 8"
    />
    <text
      x="430"
      y="332"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      w ~ w' (same function)
    </text>

    <!-- Right column: meaning -->
    <rect x="610" y="170" width="280" height="170" rx="22" fill="rgba(15, 23, 42, 0.03)" stroke="rgba(15, 23, 42, 0.10)" />
    <rect x="640" y="220" width="220" height="70" rx="18" fill="#FFFFFF" stroke="rgba(15, 23, 42, 0.12)" />
    <text
      x="660"
      y="250"
      font-size="13"
      font-weight="900"
      fill="#1E293B"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      function f
    </text>
    <text
      x="660"
      y="272"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      behavior: (s,a) -> value
    </text>

    <!-- Arrows -->
    <path
      d="M370 255 H600"
      stroke="#3B82F6"
      stroke-width="4"
      marker-end="url(#fp-twm-arrow)"
      stroke-linecap="round"
    />
    <text
      x="480"
      y="240"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      denotes (lossless)
    </text>

    <path
      d="M570 220 H600"
      stroke="rgba(59, 130, 246, 0.55)"
      stroke-width="4"
      marker-end="url(#fp-twm-arrow)"
      stroke-linecap="round"
    />
    <path
      d="M570 290 H600"
      stroke="rgba(59, 130, 246, 0.55)"
      stroke-width="4"
      marker-end="url(#fp-twm-arrow)"
      stroke-linecap="round"
    />
    <text
      x="518"
      y="208"
      font-size="12"
      fill="#475569"
      font-family="Atkinson Hyperlegible, system-ui, sans-serif"
    >
      many-to-one
    </text>
  </g>
</svg>

